-- Yazarlar
CREATE TABLE authors (
    author_id INT PRIMARY KEY IDENTITY(1,1),
    name VARCHAR(100),
    country VARCHAR(50)
);

-- Kitaplar
CREATE TABLE books (
    book_id INT PRIMARY KEY IDENTITY(1,1),
    title VARCHAR(150),
    author_id INT,
    publish_year INT,
    price DECIMAL(6,2),
    FOREIGN KEY (author_id) REFERENCES authors(author_id)
);

-- Üyeler
CREATE TABLE members (
    member_id INT PRIMARY KEY IDENTITY(1,1),
    name VARCHAR(100),
    city VARCHAR(50)
);

-- Ödünç İşlemleri
CREATE TABLE borrows (
    borrow_id INT PRIMARY KEY IDENTITY(1,1),
    member_id INT,
    book_id INT,
    borrow_date DATETIME,
    return_date DATETIME,
    FOREIGN KEY (member_id) REFERENCES members(member_id),
    FOREIGN KEY (book_id) REFERENCES books(book_id)
);





-- Yazarlar
INSERT INTO authors (name, country) VALUES ('Orhan Pamuk', 'Türkiye');
INSERT INTO authors (name, country) VALUES ('J.K. Rowling', 'İngiltere');
INSERT INTO authors (name, country) VALUES ('George Orwell', 'İngiltere');a

-- Kitaplar
INSERT INTO books (title, author_id, publish_year, price) VALUES ('Masumiyet Müzesi', 1, 2008, 75.50);
INSERT INTO books (title, author_id, publish_year, price) VALUES ('Harry Potter ve Felsefe Taşı', 2, 1997, 120.00);
INSERT INTO books (title, author_id, publish_year, price) VALUES ('1984', 3, 1949, 60.00);

-- Üyeler
INSERT INTO members (name, city) VALUES ('Ayşe Yılmaz', 'İstanbul');
INSERT INTO members (name, city) VALUES ('Mehmet Demir', 'Ankara');
INSERT INTO members (name, city) VALUES ('Elif Kaya', 'İzmir');

-- Ödünçler
INSERT INTO borrows (member_id, book_id, borrow_date, return_date) VALUES (1, 1, '2025-08-01', '2025-08-10');
INSERT INTO borrows (member_id, book_id, borrow_date, return_date) VALUES (2, 2, '2025-08-05', NULL);
INSERT INTO borrows (member_id, book_id, borrow_date, return_date) VALUES (1, 3, '2025-08-12', '2025-08-20');
INSERT INTO borrows (member_id, book_id, borrow_date, return_date) VALUES (3, 2, '2025-08-15', NULL);
